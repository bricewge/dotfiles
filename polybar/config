;;; [Polybar](https://github.com/jaagr/polybar) configuration


[bar/example]
monitor = ${env:MONITOR:}
width = 100%
height = 30
fixed-center = true

background = ${colors.background}
foreground = ${colors.foreground}

underline-size = 2
underline-color = ${colors.blue}

module-margin = 2

font-0 = MesloLGS Nerd Font:size=12;2
font-1 = Meslo LG S:size=12;2
font-2 = Noto Sans:size=11;1
; Extra symbols: http://fontawesome.io/cheatsheet/

enable-ipc = true

modules-left = sxhkd mpv
modules-center = bspwm
modules-right = volume battery date powermenu

tray-position = right
tray-padding = 2
tray-background = ${colors.background}

wm-restack = bspwm
override-redirect = true

; ** colors
[colors]
include-file = $HOME/.config/polybar/colors

; ** xwindow
[module/xwindow]
type = internal/xwindow
label = %title:0:30:...%

; ** bspwm
[module/bspwm]
type = internal/bspwm

;     ● ○

ws-icon-default = 

; *** focused
label-focused-occupied = 
label-focused-occupied-underline= ${colors.primary}
label-focused-occupied-padding = 1
label-focused-empty = 
label-focused-empty-underline= ${colors.primary}
label-focused-empty-padding = 1

; *** occupied
label-occupied = 
label-occupied-foreground = ${colors.foreground-alt}
label-occupied-padding = 1

; *** empty
label-empty = 
label-empty-foreground = ${colors.foreground-alt}
label-empty-padding = 1

; *** urgent
; TODO Fix urgent
label-urgent = %icon%
label-urgent-foreground = ${colors.orange}
label-urgent-padding = 1
label-urgent-occupied = 
label-focused-urgent = %icon%
label-focused-urgent-foreground = ${colors.orange}
label-focused-urgent-padding = 1
label-focused-urgent-underline= ${colors.primary}

; ** mpd
[module/mpd]
type = internal/mpd

; Host where mpd is running (either ip or domain name)
; Can also be the full path to a unix socket where mpd is running.
host = 127.0.0.1
port = 6600
; password = mysecretpassword

; Seconds to sleep between progressbar/song timer sync
; Default: 1
interval = 2
format-online = %{A1:mpc toggle:} %{A3:mpc next:}<label-song> %{A} %{A}

label-song-foreground = ${colors.foreground-alt}

; ** date
[module/date]
type = internal/date
interval = 1

date =
time = %H:%M
date-alt = "%Y-%m-%d "
time-alt = %H:%M:%S
label = %date%%time%
format =  <label>
label-alt-foreground = ${colors.foreground-alt}

; ** volume
[module/volume]
type = internal/pulseaudio

format-volume = <ramp-volume> <label-volume>
format-muted = <label-muted>
label-volume = %percentage%%
label-muted =  muted
label-muted-foreground = ${colors.foreground-alt}

ramp-volume-0 = 
ramp-volume-1 = 
ramp-volume-2 = 
ramp-headphones-0 = 

; ** battery
[module/battery]
type = internal/battery
battery = BAT0
adapter = AC
full-at = 98

label-charging = %percentage%%
format-charging =  <label-charging>
label-discharging = %percentage%%
format-discharging = <ramp-capacity> <label-discharging>
label-full = %percentage%%
format-full =  <label-full>

ramp-capacity-0 = 
ramp-capacity-1 = 
ramp-capacity-2 = 
ramp-capacity-3 = 
ramp-capacity-4 = 

; ** powermenu
[module/powermenu]
type = custom/text
content = "  "
click-left = rofi-power "loginctl kill-session $XDG_SESSION_ID"

; ** sxhkd
[module/sxhkd]
; Indicate if sxhkd has began a chain.
type = custom/ipc
hook-0 = echo "%{B#93a1a1 F#586e75}  %{B- F-}"
hook-1 = echo "%{B#b58900 F#586e75}  %{B- F-}"
initial = 1
click-left = rofi -show drun

; ** mpd
[module/mpv]
type = custom/script
exec =  ~/.config/polybar/mpvctl.sh
format-foreground = ${colors.foreground-alt}
tail = true
click-left = mpvctl toggle
click-right = mpvctl next
click-middle = mpvctl prev

; * settings
[settings]
screenchange-reload = true
;compositing-background = xor
;compositing-background = screen
;compositing-foreground = source
;compositing-border = over

[global/wm]
margin-top = 0
margin-bottom = 0
